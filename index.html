<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <style>
      textarea {width:100%}
    </style>
    <title>Rules of Read of English</title>
    <!-- <link rel="stylesheet" href="css/style.css"> -->
    <!-- Yandex.Metrika counter -->
  	<script type="text/javascript">
  	    (function (d, w, c) {
  	        (w[c] = w[c] || []).push(function() {
  	            try {
  	                w.yaCounter44071744 = new Ya.Metrika({
  	                    id:44071744,
  	                    clickmap:true,
  	                    trackLinks:true,
  	                    accurateTrackBounce:true
  	                });
  	            } catch(e) { }
  	        });

  	        var n = d.getElementsByTagName("script")[0],
  	            s = d.createElement("script"),
  	            f = function () { n.parentNode.insertBefore(s, n); };
  	        s.type = "text/javascript";
  	        s.async = true;
  	        s.src = "https://mc.yandex.ru/metrika/watch.js";

  	        if (w.opera == "[object Opera]") {
  	            d.addEventListener("DOMContentLoaded", f, false);
  	        } else { f(); }
  	    })(document, window, "yandex_metrika_callbacks");
  	</script>
  	<noscript><div><img src="https://mc.yandex.ru/watch/44071744" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
  	<!-- /Yandex.Metrika counter -->
  </head>
  <body>
    <h4><u>Для работы ситезатора голоса, необходимо использовать праузер Google Chrome настольной версии.</u></h4>
    <h1>Правила чтения англиского языка</h1>
    <p>Измените голос и язык, используя раскрывающееся меню. Озвучивание последнено написанного слова происходит после пробела. Озвучивание предложение после нажатия: ".", "!" или "?".</p>
    <div>
      <select></select>
    </div>
    <div>
      <label for="rate">Скорость речи - Speed speach: </label>
      <label class="rate-value">1</label>
      <input type="range" min="0.5" max="2" value="1" step="0.1" id="rate">
      <label for="pitch">Тональность речи - Pitch speach: </label>
      <label class="pitch-value">1</label>
      <input type="range" min="0" max="2" value="1" step="0.1" id="pitch">
    </div>
  </br>
    <section id="lessons"><b><i>Каждый блок ввода текста следует заканчивать "." для того чтобы при дальнейших прочтениях блока не прочитывался предыдущий блок.</i></b></section>

    <script src="data/rulesOfRead.js"></script>
    <script src="data/consonantLetters.js"></script>
    <script type="text/javascript">
      const section = document.getElementById("lessons");

      function createElement(el, contain){
        let elType = document.createElement(el);
        elType.appendChild(document.createTextNode(contain));
        return elType;
      }

      function createRuleOfConsonants(letter){
        section.appendChild(createElement("p", `Правило чтения буквы "${letter.toUpperCase()}" - звучит как русский звук [${consonantLetters[letter]}]. Напечатайте по несколько раз букву для прослушивания её алфавитного произношение, как ориентира для запоминания.`));
        section.appendChild(createElement("textarea", ''));
      }
      section.appendChild(createElement("h3", `Правило чтения согласных букв английского языка.`));
      Object.keys(consonantLetters).forEach(el => createRuleOfConsonants(el));

      function createUnit(element, contain){
        section.appendChild(createElement("h3", `Правило чтения буквы "${contain.char.toUpperCase()}".`));
        if(contain.intro) {
          section.appendChild(createElement("p", `${contain.intro}`));
        }

        for (let rule of contain.def){
          section.appendChild(createElement("p", `"${contain.char.toUpperCase()}" - ${rule.rule}`));
          section.appendChild(createElement("b", `${rule.exam}`));
          section.appendChild(createElement("textarea", ''));
          if (rule.exce){
            section.appendChild(createElement("b", `Исключения: ${rule.exce}.`));
            section.appendChild(createElement("textarea", ''));
          }
        }
      }

      Object.values(rulesOfRead).forEach(el => createUnit("", el));

    </script>
    <script src="js/script.js"></script>
  </body>
</html>
